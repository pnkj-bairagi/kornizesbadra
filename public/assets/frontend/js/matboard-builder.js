/*
	Minified matboard-builder.js
	Last Modified: Fri, 29 Oct 2021 14:40:46 GMT
*/
var params,newSKU;function addZero(number){return(number<10?'0':'')+number;}
function buildParams(){item_type_id=$('#matboard-builder').find('input[name=item_type_id]').val();mat_type_id=$('#matboard-builder').find('input[name=mat_type_id]').val();mat_design_id=$('#matboard-builder').find('input[name=mat_design_id]').val();mat_opening_type_id=$('#matboard-builder').find('select[name=mat_opening_type_id]').val();mat_opening_position_id=$('#matboard-builder').find('input[name=mat_opening_position_id]').val();outside_width_int=$('#matboard-builder').find('select[name=outside_width_int]').val();outside_width_frac=$('#matboard-builder').find('select[name=outside_width_frac]').val();outside_height_int=$('#matboard-builder').find('select[name=outside_height_int]').val();outside_height_frac=$('#matboard-builder').find('select[name=outside_height_frac]').val();inside_width_int=$('#matboard-builder').find('select[name=inside_width_int]').val();inside_width_frac=$('#matboard-builder').find('select[name=inside_width_frac]').val();inside_height_int=$('#matboard-builder').find('select[name=inside_height_int]').val();inside_height_frac=$('#matboard-builder').find('select[name=inside_height_frac]').val();params={'item_type_id':item_type_id,'mat_type_id':mat_type_id,'mat_design_id':mat_design_id,'mat_opening_type_id':mat_opening_type_id,'mat_opening_position_id':mat_opening_position_id,'outside_width_int':outside_width_int,'outside_width_frac':outside_width_frac,'outside_height_int':outside_height_int,'outside_height_frac':outside_height_frac,'inside_width_int':inside_width_int,'inside_width_frac':inside_width_frac,'inside_height_int':inside_height_int,'inside_height_frac':inside_height_frac};newSKU=item_type_id+mat_type_id+addZero(mat_design_id)+mat_opening_type_id+mat_opening_position_id+addZero(outside_width_int)+outside_width_frac+addZero(outside_height_int)+outside_height_frac+addZero(inside_width_int)+inside_width_frac+addZero(inside_height_int)+inside_height_frac;}
buildParams();$('#matboard-builder select').on('change',function(){$('#canvas-matboard').removeClass('rendered');mat_opening_type_id=$('#matboard-builder').find('select[name=mat_opening_type_id]').val();if(mat_opening_type_id==6){$('#matboard-builder').find('.inside-dimensions').slideUp();$('#matboard-builder').find('.inside-dimensions option[value=0]').prop('selected',true);}else{$('#matboard-builder').find('.inside-dimensions').slideDown();}
buildParams();var quantity=$('#matboard-builder').find('select[name=quantity]').val();$.ajax({type:"POST",url:SITE_URL+"/ajax.php",dataType:"json",data:{action:'update_accessory_price',params:params,quantity:quantity},error:function(){alert("We can't get the price for this accessory. Sorry for the inconvenience!");return false;},success:function(result){$('#matboard-builder').find('span.price-text').html(result.price);if(!result.valid){disableAddToCartButton();$('#matboard-builder').find('.mat-design-input').addClass('disabled');$('#matboard-builder').find('.accessory-error').slideDown('fast');}
else{enableAddToCartButton();$('#matboard-builder').find('.mat-design-input').removeClass('disabled');$('#matboard-builder').find('.accessory-error').slideUp('fast');$('#matboard-builder').find('.accessory-image img').attr('src',result.details.cart_image_url);drawFrame('canvas-matboard',newSKU,'');}
return true;}});});$('.add-to-cart-button').on('click',function(){if($(this).attr('disabled')=='disabled'){return;}
var image=false;var quantity=$('#matboard-builder select[name=quantity]').val();var item_quantity=$('#matboard-builder .accessory-quantity').val();var item_price=$('#matboard-builder .price-text').html();$.ajax({type:"POST",url:SITE_URL+"/ajax.php",dataType:"json",data:{action:'add_accessory_to_cart',params:params,quantity:quantity,image:image},error:function(result){alert("We can't add this accessory to your cart. Sorry for the inconvenience!");return false;},success:function(result){$('#added-to-cart-modal .item-image').html($('#canvas-matboard').html());$('#added-to-cart-modal .item-name').html('Matboard');var item_description_html='';$.each(result.item_attributes,function(key,value){item_description_html+=key+': '+value+'<br>';});$('#added-to-cart-modal .item-description').html(item_description_html);$('#added-to-cart-modal .item-quantity').html(item_quantity);$('#added-to-cart-modal .item-price').html(item_price);$('#added-to-cart-modal .coupon-asterisk-wrapper').toggle(result.item_discount);$('#added-to-cart-modal .cart-items').html(result.cart_items);$('#added-to-cart-modal .cart-subtotal').html(parseFloat(result.cart_subtotal).toFixed(2));$('.cart-item-count').html(result.cart_items);if(result.cart_items>0){$('.cart-item-count').addClass('in-cart');}
else{$('.cart-item-count').removeClass('in-cart');}
$('#added-to-cart-modal').modal('show');if(location.hostname=='www.frameiteasy.com')addFBPixel('AddToCart');return true;}});});$(function(){$('.mat-design-input').on('click',function(){$('#mat-designs-modal').modal('show');mat_designs_modal_mat=$(this).data('mat');$.ajax({type:"POST",url:SITE_URL+"/ajax_smarty.php",dataType:"html",timeout:5000,data:{'page':'mat-designs-modal'},success:function(result){$('#mat-designs-modal .modal-body').html(result);}});});$('body').on('click','#mat-designs-modal .mat-design-tile',function(){$('#matboard-builder').find('input[name=mat_type_id]').val($(this).data('mat-type-id'));$('#matboard-builder').find('input[name=mat_design_id]').val($(this).data('mat-design-id'));buildParams();var quantity=$('#matboard-builder').find('select[name=quantity]').val();$.ajax({type:"POST",url:SITE_URL+"/ajax.php",dataType:"json",data:{action:'update_accessory_price',params:params,quantity:quantity},error:function(){alert("We can't get the price for this accessory. Sorry for the inconvenience!");return false;},success:function(result){$('#matboard-builder').find('.mat-design-input').html(result.details.mat_name+'<i class="fas fa-th" aria-hidden="true"></i>');$('#mat-designs-modal').modal('hide');$('#matboard-builder').find('span.price-text').html(result.price);if(!result.valid){disableAddToCartButton();$('#matboard-builder').find('.accessory-error').slideDown('fast');}
else{enableAddToCartButton();$('#matboard-builder').find('.accessory-error').slideUp('fast');drawFrame('canvas-matboard',newSKU,'');}
return true;}});});});function disableAddToCartButton(){var button=$('#matboard-builder .add-to-cart-button');button.css('opacity','0.5');button.css('cursor','default');button.attr('disabled',true);}
function enableAddToCartButton(){var button=$('#matboard-builder .add-to-cart-button');button.tooltip('hide');button.tooltip('destroy');button.css('opacity','1');button.data('toggle','');button.data('placement','');button.css('cursor','pointer');button.attr('title','');button.removeAttr('disabled');}
$(function(){renderAllFramePreviews();$('#matboard-builder select').trigger('change');});